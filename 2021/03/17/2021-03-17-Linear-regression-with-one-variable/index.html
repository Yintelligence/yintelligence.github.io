<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Linear regression with one variable, Chaoqun Yin">
    <meta name="description" content="Veni, Vidi, Vici">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Linear regression with one variable | Chaoqun Yin</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Chaoqun Yin</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Chaoqun Yin</div>
        <div class="logo-desc">
            
            Veni, Vidi, Vici
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/4.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Linear regression with one variable</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Machine-Learning/">
                                <span class="chip bg-color">Machine Learning</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Notes/" class="post-category">
                                Notes
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-03-17
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2021-04-03
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    12 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="linear-regression-with-one-variable">Linear Regression with One Variable</h1>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/maxiaodoubao/p/9857874.html">搬运</a></p>
<h2 id="模型表示-model-representation"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=5">2.1 模型表示 Model Representation</a></h2>
<p>　　本节引入第一个监督学习算法：<strong>线性回归 Linear regression</strong>。其中只有一个参数的线性回归算法叫做 <strong>单变量线性回归 Linear regression with one variable。</strong></p>
<h3 id="线性回归-linear-regression">2.1.1 线性回归 Linear regression</h3>
<p>还是房价预测的例子， 训练集如下：</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Size in feet<sup>2</sup> (x)</th>
<th style="text-align: center;">Price ($) in 1000's (y)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">2104</td>
<td style="text-align: center;">460</td>
</tr>
<tr class="even">
<td style="text-align: center;">1416</td>
<td style="text-align: center;">232</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1534</td>
<td style="text-align: center;">315</td>
</tr>
<tr class="even">
<td style="text-align: center;">852</td>
<td style="text-align: center;">178</td>
</tr>
<tr class="odd">
<td style="text-align: center;">...</td>
<td style="text-align: center;">...</td>
</tr>
</tbody>
</table>
<p>定义各个变量的含义如下：</p>
<table>
<thead>
<tr class="header">
<th>m</th>
<th>代表训练集中实例的数量</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>x</td>
<td>代表特征/输入变量</td>
</tr>
<tr class="even">
<td>y</td>
<td>代表目标变量/输出变量</td>
</tr>
<tr class="odd">
<td>(x,y)</td>
<td>代表训练集中的实例</td>
</tr>
<tr class="even">
<td>(x(i), y(i))</td>
<td>代表第 i 个观察实例：其中x(i) 代表第i个输入变量, y(i)代表第i个目标变量</td>
</tr>
<tr class="odd">
<td>h</td>
<td>代表学习算法的解决方案或函数，也称为假设（hypothesis）</td>
</tr>
</tbody>
</table>
<h3 id="单变量线性回归-linear-regression-with-one-variable">2.1.2 单变量线性回归 Linear regression with one variable</h3>
<p>h 根据输入的 x 值来得出 y 值， y 值对应房子的价。因此， h 是一个从x 到 y 的函数映射。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026195816561-1002060993.png" /></p>
<p>h 的一种可能的表达方式如下。因为只含有一个特征/输入变量，这样的问题叫作<strong>单变量线性回归问题。</strong> <span class="math display">\[
h_θ(x) = θ_0 + θ_1x
\]</span></p>
<h2 id="代价函数-cost-function"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=6">2.2 代价函数 Cost Function</a></h2>
<p>　　线性回归算法优化的目标是：选取最有可能与数据相拟合的直线。数据与直线的误差，称为<strong>建模误差 modeling error</strong>。为了使建模误差最小，我们需要调整参数θ<sub>0</sub> 和 θ<sub>1</sub>，使得<strong>代价函数Cost function</strong> J(θ<sub>0</sub>, θ<sub>1</sub>)的值最小。</p>
<p>　　在各种代价函数中，最常用的是<strong>平方误差代价函数 Squared error cost function</strong>。</p>
<h3 id="如何选择模型的参数-θ">2.2.1 如何选择模型的参数 θ</h3>
<p>因为 h 是一次方程，它对应两个模型参数(parameters) θ<sub>0</sub> 和 θ<sub>1</sub>：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026201738408-439997352.png" /></p>
<p>选取不同的参数 θ<sub>0</sub> 和 θ<sub>1</sub>，产生的 h 不同，最终的直线也不同：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026201900780-774795260.png" /></p>
<h3 id="建模误差-modeling-error">2.2.2 建模误差 modeling error</h3>
<p>参数决定了直线相对于训练集的准确程度，模型所预测值 与 训练集实际值 之间的差距（下图中蓝线所指）就是 <strong>建模误差（modeling error）</strong>。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026203145682-370589575.png" /></p>
<p>调整参数 θ<sub>0</sub> 和 θ<sub>1</sub>，目标：<strong>使建模误差的平方和最小</strong></p>
<h3 id="平方误差代价函数-squared-error-cost-function">2.2.3 平方误差代价函数 <strong>Squared error cost function</strong></h3>
<p>为了使建模误差最小，需要<strong>使代价函数 J(θ<sub>0</sub>, θ<sub>1</sub>) 最小</strong>，公式如下。 <span class="math display">\[
J(θ_0, θ_1) = \frac{1}{2m}\sum^{m}_{i =1}(h_θ(x^{(i)})-y^{(i)})^2
\]</span> 其中 h(x) - y 是预测值和实际值的差，取其平方和。m 指的是数据集的大小，乘以1/2m 是为了便于计算。这个J(θ<sub>0</sub>, θ<sub>1</sub>) 通常称为 <strong>平方误差函数(Squared error function)</strong>，有时也被称为 <strong>平方误差代价函数(Squared error cost function)</strong>。</p>
<p>下面公式的意思是：寻找θ<sub>0</sub> 和 θ<sub>1</sub>，使得 J 值最小。</p>
<p>​ <img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026204810307-632881217.png" />　　</p>
<p>我们绘制一个等高线图， 三个坐标分别为 θ<sub>0</sub> 和 θ<sub>1</sub> 和 J(θ<sub>0</sub>, θ<sub>1</sub>)，则可以看出在三维空间中存在一个点，使得 J(θ<sub>0</sub>, θ<sub>1</sub>)最小：</p>
<p>　　　　　<img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181026203207230-1804515486.png" /></p>
<h2 id="代价函数的直观理解-i"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=7">2.3 代价函数的直观理解 I</a></h2>
<p>线性回归模型的假设、参数、代价函数、目标如下：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027063313281-1908212408.png" /></p>
<p>取将θ<sub>0</sub>固定为0时，代价函数简化为只关于θ<sub>1</sub>的函数：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027063556775-1380986435.png" /></p>
<p>下面的例子里，三个数据点的坐标是（1,1）（2,2）（3,3）。当将θ<sub>0</sub>固定为0，只变化θ<sub>1</sub>时， 代价函数是一条二次曲线。</p>
<ul>
<li>当θ<sub>1</sub>分别取值1，0.5，0的时候，对应左边从上到下三条曲线。</li>
<li>当 θ<sub>1</sub>取1时，J(θ<sub>1</sub>) = 0 , 此时 J(θ<sub>1</sub>) 最小，处于曲线最低点，是我们想要的结果。</li>
</ul>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027063243260-431488824.png" /></p>
<h2 id="代价函数的直观理解-ii"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=8">2.4 代价函数的直观理解 II</a></h2>
<p>当θ<sub>0</sub>和θ<sub>1</sub>都发生变化时，代价函数 J(θ<sub>0</sub> , θ<sub>1</sub>)在三维空间中图形如下：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027065558275-1393263845.png" /></p>
<p>因为三维图像看起来太复杂， 将它投射到二维平面。引入<strong>等高线contour plot</strong> 的概念，也叫contour figure。等高线上的点，对应的代价函数 J(θ<sub>0</sub> , θ<sub>1</sub>)取值相同。</p>
<p>　 下面两个图，右边红点对应的直线如左图，可以看出拟合的都不好。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027065713598-2141464287.png" /></p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027065723938-1342446833.png" /></p>
<p>下图取值位于三维图形的最低点，在二维图形上位于等高线的中心。对应的假设函数 h(x) 直线如左图。虽然拟合数据有一些误差（蓝色竖线），但是已经很接近最小值了。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027065851220-2060487712.png" /></p>
<h2 id="梯度下降-gradient-descent"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=10">2.5 梯度下降 Gradient descent</a></h2>
<h3 id="局部最优解-local-optimum">2.5.1 <strong>局部最优解 local optimum</strong></h3>
<p>　已有一个代价函数，我们的目的是使其最小化。通常情况下，始于θ<sub>0</sub>=0 , θ<sub>1</sub>=0，调整θ<sub>0</sub> , θ<sub>1</sub>，止于J(θ<sub>0</sub> , θ<sub>1</sub>)的最小值。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027071304618-1818359534.png" /></p>
<p>　　下面这个例子，θ<sub>0</sub>和θ<sub>1</sub>没有开始于0,0。当选取两个不同的起始点，并向着不同方向进行梯度下降时，到达两个不同的最优解，它们称为<strong>局部最优解local optimum。</strong></p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027071323203-1601274622.png" alt="img" /><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027071336608-264372199.png" alt="img" /></p>
<h3 id="梯度下降算法-gradient-descent-algorithm">2.5.2 梯度下降算法 Gradient descent algorithm</h3>
<p>　　梯度下降算法对θ赋值， 使得 J(θ)按梯度下降最快方向进行， 一直迭代下去， 最终得到局部最小值，即<strong>收敛 convergence</strong>。梯度下降算法不只用于线性回归， 可以<strong>用来最小化任何代价函数</strong> J。公式如下， <span class="math display">\[
θ_j: = θ_j-\alpha\frac{\partial}{\partial j}J(θ)
\]</span> 　　梯度下降算法中，两个参数 <strong>同步更新 simultaneous update</strong>（左下）。如果是<strong>非同步更新 non-simultaneous update</strong> （右下），则不是梯度下降。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027072252715-1828550575.png" /></p>
<ul>
<li>a := b 是赋值操作 assignment ，将 b 的值赋值给 a。</li>
<li>a = b 是真值断言Truth assertion，判断 a 和 b 是否相等。</li>
</ul>
<p>α是 <strong>学习速率 learning rate</strong>，决定了沿着能让代价函数下降程度最大的方向向下迈出的步子有多大。</p>
<h2 id="梯度下降的直观理解"><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=10">2.6 梯度下降的直观理解</a></h2>
<h3 id="梯度下降法的更新规则">2.6.1 梯度下降法的更新规则</h3>
<p>梯度下降算法如下： <span class="math display">\[
θ_j: = θ_j-\alpha\frac{\partial}{\partial j}J(θ)
\]</span> 求导的目的，基本上可以说取这个红点的切线，即这条红色直线。由于曲线右侧斜率为正，导数为正。 因此，θ<sub>1</sub>减去一个正数乘以 α，值变小。</p>
<p>曲线左侧斜率为负，导数为负。 因此，θ<sub>1</sub>减去一个负数乘以 α，值变大。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027083213639-1673313552.png" /></p>
<h3 id="学习速率-α-的选择">2.6.2 学习速率 α 的选择</h3>
<p>如果 α 太小，只能小碎步下降，需要很多步才能到达全局最低点，很慢。</p>
<p>如果 α 太大，那么算法可能会越过最低点。一次次越过最低点，离它越来越远。会导致无法收敛， 甚至发散。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027081242900-226950777.png" /></p>
<h2 id="不调整学习速率-α-也能收敛">2.6.3 不调整学习速率 α 也能收敛</h2>
<p>假设将 θ<sub>1</sub>初始化在局部最低点。导数为0，会使得 θ<sub>1</sub>不再改变，不会改变参数的值。也解释了为什么即使学习速率 α 保持不变时， 梯度下降也可以收敛到局部最低点。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027081329962-730516039.png" /></p>
<p>为什么不用调整α也能到达局部最优点？</p>
<p>因为梯度下降一步后， 新的导数会变小，移动的幅度会自动变小。直到最终移动幅度非常小时，已经收敛到局部极小值。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027083133938-2023161257.png" /></p>
<h2 id="梯度下降的线性回归-gradient-descent-for-linear-regression">2.7 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411b7dx?p=11">梯度下降的线性回归 Gradient Descent For Linear Regression</a></h2>
<h3 id="梯度下降和线性回归相结合">2.7.1 梯度下降和线性回归相结合　　</h3>
<p>　　将平方误差函数 h(x)， 结合梯度下降法， 以及平方代价函数J(θ)，得出第一个机器学习算法， 即线性回归Linear Regression。</p>
<p>梯度下降算法和线性回归模型的比较：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027093405894-1161715859.png" /></p>
<p>对之前的线性回归问题运用梯度下降法，关键在于求出代价函数的导数，即： <span class="math display">\[
\frac{\partial}{\partialθ_j}J(θ_0θ_1)=\frac{\partial}{\partialθ_j}\frac{1}{2m}\sum^{m}_{i=1}(h_θ(x^{(i)})-y^{(i)})^2
\]</span> j 分别取 0 和 1 时，其导数如下：</p>
<p>　　<img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027093625553-1244537261.png" /></p>
<p>　　将上面两个导数带入梯度下降算法中，替代原来的 <img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027094109573-1566862582.png" />。梯度下降算法变为：</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181027093800746-470905768.png" /></p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181028150017186-1301021887.png" /></p>
<p>虽然梯度下降一般<strong>易受局部最小值影响 susceptible to local minima</strong>，但我们在线性回归中提出的优化问题只有一个全局最优解，而没有其他局部最优解，代价函数是凸二次函数。因此，梯度下降总是收敛到全局最小值（假设学习率α不是太大）。</p>
<p><img src="https://img2018.cnblogs.com/blog/542362/201810/542362-20181028150451309-1653366228.png" /></p>
<h3 id="批处理梯度下降-batch-gradient-descent">2.7.2 批处理梯度下降 batch gradient descent</h3>
<p>　　上面使用的算法也叫<strong>批处理梯度下降 batch gradient descent</strong>，指的是梯度下降的每一步都涉及到所有的训练实例。也有其他类型的非批处理梯度下降法，每次只关注训练集中一些小子集。</p>
<p>　　高等线性代数中有一种计算代价函数 J 最小值的数值解法，不需要梯度下降这种迭代算法，也能解出代价函数 J 的最小值，这是另一种称为<strong>正规方程(normal equations)</strong>的方法。实际上在数据量较大的情况下，梯度下降法比正规方程要更适用一些。</p>
<h2 id="接下来的内容">2.8 接下来的内容</h2>
<p>介绍了一点线性代数 Linear algebra</p>
<h2 id="相关术语">相关术语</h2>
<p>线性回归 Linear regression 单变量线性回归 Linear regression with one variable</p>
<p>代价函数 Cost Function 平方误差代价函数 Squared error cost function 建模误差 Modeling error 等高线　　contour plot 、contour figure 梯度下降 Gradient descent 批处理梯度下降 Batch gradient descent</p>
<p>学习效率 　Learning rate 同步更新 simultaneous update 非同步更新 non-simultaneous update</p>
<p>局部最优 local optimum 全局最优 global optimum 全局最小值 global minimum 局部最小值 local minimum</p>
<p>微分项 derivative term 微积分 calculus 导数　　　 derivatives 偏导数 partial derivatives 负导数 nagative derivative 负斜率 nagative slope</p>
<p>收敛 converge 发散 diverge 陡峭 steep 碗型 bow-shaped function 凸函数 convex function</p>
<p>线性代数 linear algebra 迭代算法 iterative algorithm 正规方程组 normal equations methods 梯度下降的泛化 a generalization of the gradient descent algorithm 越过最低点 overshoot the minimum</p>
<h1 id="exercises">Exercises</h1>
<p>1. Consider the problem of predicting how well a student does in her second year of college/university, given how well she did in her first year.</p>
<p>Specifically, let x be equal to the number of "A" grades (including A-. A and A+ grades) that a student receives in their first year of college (freshmen year). We would like to predict the value of y, which we define as the number of "A" grades they get in their second year (sophomore year).</p>
<p>Refer to the following training set of a small sample of different students' performances (note that this training set may also be referenced in other questions in this quiz). Here each row is one training example. Recall that in linear regression, our hypothesis is h<sub>θ</sub>(x)=θ<sub>0</sub>+θ<sub>1</sub>x, and we use <em>m</em> to denote the number of training examples.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">x</th>
<th style="text-align: center;">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="even">
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p>For the training set given above, what is the value of m<em>m</em>? In the box below, please enter your answer (which should be a number between 0 and 10).</p>
<p>2. Many substances that can burn (such as gasoline and alcohol) have a chemical structure based on carbon atoms; for this reason they are called hydrocarbons. A chemist wants to understand how the number of carbon atoms in a molecule affects how much energy is released when that molecule combusts (meaning that it is burned). The chemist obtains the dataset below. In the column on the right, “kJ/mol” is the unit measuring the amount of energy released.</p>
<p><img src="/images/CS229/19.png" /></p>
<p>You would like to use linear regression (h<sub>θ</sub>(x)=θ<sub>0</sub>+θ<sub>1</sub>x) to estimate the amount of energy released (y) as a function of the number of carbon atoms (x). Which of the following do you think will be the values you obtain for θ<sub>0</sub> and θ<sub>1</sub>? You should be able to select the right answer without actually implementing linear regression.</p>
<ul>
<li><del>θ<sub>0</sub> = −1780.0, θ<sub>1</sub> = −530.9</del></li>
<li><del>θ<sub>0</sub> = −1780.0, θ<sub>1</sub>=530.9</del></li>
<li><strong>θ<sub>0 </sub>= −569.6, θ<sub>1</sub> = −530.9</strong></li>
<li><del>θ<sub>0</sub> = −569.6, θ<sub>1</sub> = 530.9</del></li>
</ul>
<p>3. Suppose we set θ<sub>0</sub> = -1, θ<sub>1</sub> = 2 in the linear regression hypothesis from Q1. What is h<sub>θ</sub>(6)?</p>
<p>11</p>
<p>4. Let f be some function so that f(θ<sub>0</sub>,θ<sub>1</sub>) outputs a number. For this problem,f is some arbitrary/unknown smooth function (not necessarily the cost function of linear regression, so f may have local optima).Suppose we use gradient descent to try to minimize f(θ<sub>0</sub>,θ<sub>1</sub>) as a function of θ<sub>0</sub> and θ<sub>1</sub>. Which of the following statements are true? (Check all that apply.)</p>
<ul>
<li><del>Even if the learning rate α is very large, every iteration of gradient descent will decrease the value of f(θ<sub>0</sub>,θ<sub>1</sub>).</del></li>
<li><strong>If the learning rate is too small, then gradient descent may take a very long time to converge.</strong></li>
<li><strong>If θ<sub>0</sub> and θ<sub>1</sub> are initialized at a local minimum, then one iteration will not change their values.</strong></li>
<li><del>If θ<sub>0</sub> and θ<sub>1</sub> are initialized so that θ<sub>0</sub>=θ<sub>1</sub>, then by symmetry (because we do simultaneous updates to the two parameters), after one iteration of gradient descent, we will still have θ<sub>0</sub>=θ<sub>1</sub>.</del></li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Chaoqun Yin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://yintelligence.tech/2021/03/17/2021-03-17-Linear-regression-with-one-variable/">https://yintelligence.tech/2021/03/17/2021-03-17-Linear-regression-with-one-variable/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Chaoqun Yin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Machine-Learning/">
                                    <span class="chip bg-color">Machine Learning</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2021/03/17/2021-03-17-Mutable-Functions/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="Mutable Functions">
                        
                        <span class="card-title">Mutable Functions</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Python - Mutable Functions
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-03-17
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Notes/" class="post-category">
                                    Notes
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Structure-and-Interpretation-of-Computer-Programs/">
                        <span class="chip bg-color">Structure and Interpretation of Computer Programs</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/03/17/2021-03-17-Pushdown-Automata/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="Pushdown Automata">
                        
                        <span class="card-title">Pushdown Automata</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Context-Free Languages
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-03-17
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Notes/" class="post-category">
                                    Notes
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Fundamentals-of-Computer-Science/">
                        <span class="chip bg-color">Fundamentals of Computer Science</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'From: Chaoqun Yin<br />'
            + 'Author: Chaoqun Yin<br />'
            + 'Link: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Chaoqun Yin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "28";
                    var startHour = "2";
                    var startMinute = "1";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yintelligence" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:Yintelligence@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
